On the clients (node1 & node2 & node3)
- If you have already installed the HA extension then the required `iscsi-client` is already installed, if you have not install it with: 
   → zypper -n in yast2-iscsi-client

- run yast iscsi-client
   → on the service tab, select the service to be started during boot
   → change the initiator name when needed. Save the name!!
   → press <alt>o

   NODE1 NAME: iqn.2018-10.de.node1:01:ec3454bd5f77
   NODE2 NAME: iqn.2018-10.de.node2:01:5745a395f790


On the iscsi target (server: storage) 
- install: 
   → zypper -n in yast2-iscsi-lio-server

- create img files and add them:
# dd if=/dev/zero of=c01-sbd.img bs=1M seek=100 count=0
# dd if=/dev/zero of=c01-spacewalk.img bs=1M seek=102400 count=0
# dd if=/dev/zero of=c01-srv.img bs=1M seek=10240 count=0
# dd if=/dev/zero of=c01-pgsql.img bs=1M seek=51200 count=0
# dd if=/dev/zero of=c01-cacherhn.img bs=1M seek=26200 count=0
# dd if=/dev/zero of=c01-others.img bs=1M seek=52200 count=0

- run: yast iscsi-lio-server
   → on the service tab, select the service to be started during boot
   → on the global tab, select “no discovery authentication”
   → on the target tab, add a new target
   → add the IP address
   → deselect "Use Login Authentication"
   → add the luns. Use the following order

c01-sbd1.img     --> lun 0
c01-spacewalk.img   --> lun 1
c01-pgsql.img   --> lun 2           
c01-cacherhn.img  --> lun3
c01-srv.img       --> lun 4
c01-others.img  --> lun 5
   
→ click on next
   → add the clients. Use the initiator name!!
   → import the luns
   → save everything


On the clients:
- run yast iscsi-client
   →  on the “Connected Targets” tab, add a new target
   → enter the IP address and use “No discovery authentication”
   → click on “Next”
   → click on “Connect”
   → Select to connect automatically.
- run lsscsi -vv and all disks should be vissible.

