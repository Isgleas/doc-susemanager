[[install-server]]
= Installing {productname} Server
// Antora entities
ifndef::backend-pdf[]
include::ROOT:partial$entities.adoc[]
endif::[]

// PDF entities
ifdef::backend-pdf[]
include::_partials/entities.adoc[]
endif::[]



{susemgr} Server is a {suse} base product from version 4.0.
This section describes how to install {susemgr} Server from {sls} installation media.
It assumes you have already registered the {susemgr} product with the {scc} and have a registration code.

For information on registering with {scc}, or obtaining installation media, see xref:general-requirements.adoc[Requirements].


[NOTE]
====
If you want to install {susemgr} on a virtual machine, ensure your virtual machine has enough disk space and RAM by checking the requirements at xref:hardware-requirements.adoc[Hardware].
====



.Procedure: Installing {susemgr} Server from a DVD image

. Boot your server from the installation image, you might need to adjust the boot order in the BIOS.
. When prompted, select [guimenu]``Installation``.
+
image::unifiedinstaller-install.png[scaledwidth=80%]
. In the [guimenu]``Language, Keyboard and Product Selection`` screen, check the [guimenu]``SUSE Manager Server`` checkbox, and click btn:[Next].
+
image::unifiedinstaller-product.png[scaledwidth=80%]
. Read and agree to the End User Licence Agreement, and click btn:[Next].
. In the [guimenu]``Registration`` screen, check the [guimenu]``Register System via scc.suse.com`` checkbox, enter your {scc} credentials, and click btn:[Next].
. OPTIONAL: In the [guimenu]``Add On Product`` screen, select any additional or add-on products you require, and click btn:[Next].
. In the [guimenu]``System Role`` screen, check the [guimenu]``SUSE Manager Server`` checkbox, and click btn:[Next].
. In the [guimenu]``Suggested Partitioning`` screen, accept the default values, or use the btn:[Guided Setup] or btn:[Expert Partitioner] options to customize your partitioning model, and click btn:[Next].
. In the [guimenu]``Clock and Time Zone`` screen, enter your region and timezone, and click btn:[Next].
. In the [guimenu]``Local Users`` screen, create a new user, and click btn:[Next].
. In the [guimenu]``System Administrator "root"`` screen, create the "root" user, and click btn:[Next].
. Review the settings on the [guimenu]``Installation Settings`` screen, and then click btn:[Install].

When the installation procedure has finished, you can check that you have all the required modules by using the [command]``SUSEConnect --status-text`` command at a command prompt.
For {susemgr} Server, the expected modules are:

* {sls} Basesystem Module
* Python 2 Module
* Server Applications Module
* Web and Scripting Module
* SUSE Manager Server Module

////
Old content below this line. --LKB 2019-03-19
This chapter provides the required KVM settings for installation of {sls} media as the base for {productname}.
A kernel virtual machine KVM combined with Virtual Machine Manager ([command]``virt-manager``) will be used as a sandbox for this installation.

== SLES KVM Requirements


Enter the following settings when creating a new virtual machine using [command]``virt-manager`` (replace [replaceable]``version`` with the actual version string):

[cols="1,1", options="header"]
|===
| KVM Settings for SLES
| Installation Method: | Local install media (ISO image or CDROM)
| OS:                  | Linux
| Version:             |``SLE-[replaceable]``version``-Server-x86_64-GM-DVD1.iso``
| Memory:              | 4096{nbsp}MB
| CPUs:                | 2
| Storage Format:      | ISO 3{nbsp}GB
| Disk Space:          | 234{nbsp}GB split between 4{nbsp}GB swap and 130{nbsp}GB mounted at [path]``/var/spacewalk/``
|                      | (Virtual Disk 1) and 50{nbsp}GB mounted at [path]``/var/lib/pgsql``
|                      | (Virtual Disk 2).  The rest for the root partition (100{nbsp}GB+).
| Name:                | example-server
| Network              | Bridge br0
|===

[[sles.installation.within.kvm.media]]
=== SLES KVM Settings


This section provides guidance on installation of {productname}
utilizing the full installation media with KVM and [command]``virt-manager``.
This section assumes you have previously setup an account with SCC and downloaded the SLES full installation media.

.Procedure: Preparing for SLES Installation
. In [command]``virt-manager`` select menu:File[New Virtual Machine].

. Select btn:[Local install media (ISO image or CDROM)].

. Ensure btn:[Use ISO Image] is selected then click btn:[Browse] and locate the full SLES image you downloaded from your SCC account.

. Configure your machine with at least 4096 MB RAM and a minimum of 2 CPUs.

. Create a storage device with a minimum of 234 GB storage space for the installation.
During the partitioning setup of the SLES installation this disk should be partitioned into the following disks:
+

[cols="1", options="header"]
|===
| Disk Space Requirements
|4{nbsp}GB Swap space
|130{nbsp}GB XFS partition (or dedicated virtual disk) for [path]``/var/spacewalk/``
|50{nbsp}GB XFS partition (or dedicated virtual disk) for [path]``/var/lib/pgsql/``
|===

. The remaining storage space will be used by the operating system for the root partition.
Select btn:[Finish] to begin the installation.


Installation of {sls} will begin.
For more information on completing an installation of {sls}, see: https://www.suse.com/documentation/sles-12/book_quickstarts/data/sec_sle_installquick.html[SUSE Linux Enterprise Installation Quickstart].

[[quickstart3.sec.suma.installation.sles.sumaext]]
== Selecting the {productname} Extension

. During {sls} installation, you will be presented with the [systemitem]``Extension and Module Selection`` screen.
+
[NOTE]
====
This screen will not be shown if you have skipped the registration step at the beginning of the installation process.
Ensure you have registered with {suse} and logged in.
====
+
. Select the {productname} Extension and then click the btn:[Next] button.

. Complete the {sls} installation.
//TODO Update image its outdated!

image::manager-extension.png[scaledwidth=80%]
