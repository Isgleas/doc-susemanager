<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Method (osad) :: Uyuni Documentation</title>
    <meta name="generator" content="Antora 1.1.1">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/site-extra.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
    <link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://opensource.suse.com/doc-susemanager/">Uyuni Project</a>
        <span class="separator">//</span>
        <a href="../../..">Docs</a>
      </div>
      <div class="navbar-item">
        <input id="search-input" type="text" placeholder="Search docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Projects</div>
          <div class="navbar-dropdown">
            <div class="navbar-item"><strong>Resources</strong></div>
            <a class="navbar-item" href="https://github.com/SUSE/doc-susemanager/tree/ia-rework">Repository</a>
            <a class="navbar-item" href="https://github.com/SUSE/doc-susemanager/issues">Issue Tracker</a>
<!--
            <hr class="navbar-divider">
            <div class="navbar-item"><strong>Custom UI (coming soon!)</strong></div>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default">Repository</a>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default/issues">Issue Tracker</a>
            <hr class="navbar-divider">
          -->
            <a class="navbar-item" href="https://github.com/SUSE/doc-susemanager/wiki/Asciidoc-getting-started">Contributing</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Community</div>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://gitter.im/uyuniproject/users">Uyuni Chat (Users)</a>
            <a class="navbar-item" href="https://gitter.im/uyuniproject/develop">Uyuni Chat (Dev)</a>
          </div>
        </div>
        <a class="navbar-item" href="https://twitter.com/uyuniproject">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path fill="#57aaee" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="uyuni" data-version="ia-rework">
  <aside class="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Uyuni</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Architecture and Components</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="arch-legend-architecture.html">Diagram Legend</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="arch-the-traditional-stack.html">The Traditional Stack</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="arch-the-salt-stack.html">The Salt Stack</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="arch-the-bootstrapping-ui.html">The Bootstrapping UI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="arch-onboarding-and-registration.html">Onboarding and Registration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="arch-repository-synchronization.html">Repository Synchronization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Contact Methods</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-contact-method-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-contact-method-rhnsd.html">rhnsd</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="arch-contact-method-osad.html">osad</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-contact-method-ssh-push.html">SSH Push</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-contact-method-ssh-pull.html">SSH Pull</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-contact-method-salt-pull.html">Salt Pull</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-contact-method-salt-ssh-push.html">Salt SSH Push</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-contact-method-salt-ssh-push-tunnel.html">Salt SSH Push &amp; Tunnel</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Component Appendix</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-apache.html">Apache httpd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-tomcat.html">Tomcat</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-python-xmlrpc-server.html">Python XMLRPC Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-taskomatic.html">Taskomatic</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-database.html">Database</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-mgr-sync.html">mgr-sync</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-spacewalk-repo-sync.html">spacewalk-repo-sync</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-osa-dispatcher.html">osa-dispatcher</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-jabberd.html">jabberd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-rhn_check.html">rhn_check</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-plugin-zypp-spacewalk.html">zypp-plugin-spacewalk</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-rhnsd.html">rhnsd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-osad.html">osad</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-salt-master.html">salt-master</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-salt-api.html">salt-api</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-salt-minion.html">salt-minion</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="arch-component-salt-broker.html">salt-broker</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Installation Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/intro.html#installation-and-upgrade-manual-intro">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Requirements</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/hardware-requirements.html">Hardware</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/storage-requirements.html">Storage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/network-requirements.html">Network</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Install Uyuni Server</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/x86-64.html">x86_64</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/ibm-zsystem.html">IBM zSystem</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/power.html">Power PC</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Install Uyuni Proxy</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/install-proxy.html">Install Proxy</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Configure High Availability</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/intro-high-availability.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/components-of-high-availability.html">HA Architecture</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/ha-requirements.html">System Requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/configure-the-storage-server.html">Setup the iSCSI Storage Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/configure-the-two-nodes.html">Setup the Two Nodes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/configure-sbd.html">Setup the SBD Device</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/set-the-cluster-password.html">Set the Cluster Password</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/enable-the-cluster.html">Enable the Cluster</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/create-the-clvm-volume.html">Create the cLVM Volume</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/configure-the-cib.html">Configure the CIB</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/configure-certificates.html">Configure Certificates</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/install-application-on-node1.html">Install Uyuni on Node1</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Automated Installation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/bootstrap.html">Bootstrap</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/unattended.html">Unattended</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Client Configuration Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/intro.html#client-configuration-intro">Introduction</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Upgrade Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/migration-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/migrate-2x-3x.html">Migrate the Server 2.x &#8594; 3.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/migrate-3.x-4x.html">Migrate the Server 3.x &#8594; 4.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/perform-service-pack-upgrade.html">Performing a Service Pack Upgrade</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/maintenance-window-steps.html">Maintenance Window Tasks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/troubleshooting-upgrades.html">Troubleshooting</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Administration Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/intro.html#admin-manual-introduction">Introduction</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Reference Manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/intro.html#reference-manual-intro">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Home</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/home/home-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/home/notification-messages.html">Notification Messages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">User Account</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/user-account/your-account.html">Your Account</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/user-account/addresses.html">Addresses</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/user-account/change-email.html">Change Email</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/user-account/account-deactivation.html">Account Deactivation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/home/your-preferences.html">Your Preferences</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Your Organization</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/your-organization/your-org-configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/your-organization/your-org-trusts.html">Organization Trusts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/your-organization/your-org-configuration-channels.html">Configuration Channels</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Systems</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/systems/systems-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">System Details</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/system-details/system-details-overview.html">System Details Overview</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Systems</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/systems/systems.html">System Filters</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/systems/system-groups.html">System Groups</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">System Set Manager</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/system-set-manager/ssm-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/system-set-manager/ssm-task-log.html">Task Log</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Salt Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/intro.html#salt-guide-intro">Introduction</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Uyuni</span>
    <span class="version">ia-rework</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Uyuni</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">ia-rework</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index.html">Uyuni</a></li>
    <li class="crumb">Architecture and Components</li>
    <li class="crumb">Contact Methods</li>
    <li class="crumb"><a href="arch-contact-method-osad.html">osad</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/SUSE/doc-susemanager/edit/ia-rework/docs/modules/architecture/pages/arch-contact-method-osad.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Contact Method (osad)</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>OSAD is an alternative contact method between Uyuni and its clients.
By default, Uyuni uses <code class="systemitem">rhnsd</code>, which contacts the server every four hours to execute scheduled actions.
OSAD allows registered client systems to execute scheduled actions immediately.</p>
</div>
<div class="paragraph">
<p>OSAD has several distinct components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code class="systemitem">osa-dispatcher</code> service runs on the server, and uses database checks  to determine if clients need to be pinged, or if actions need to be executed.</p>
</li>
<li>
<p>The <code class="systemitem">osad</code> service runs on the client. It responds to pings from <code class="systemitem">osa-dispatcher</code> and runs <code class="command">mgr_check</code> to execute actions when directed to do so.</p>
</li>
<li>
<p>The <code class="systemitem">jabberd</code> service is a daemon that uses the <code class="systemitem">XMPP</code> protocol for communication between the client and the server.
The <code class="systemitem">jabberd</code> service also handles authentication.</p>
</li>
<li>
<p>The <code class="command">mgr_check</code> tool runs on the client to execute actions.
It is triggered by communication from the <code class="systemitem">osa-dispatcher</code> service.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code class="systemitem">osa-dispatcher</code> periodically runs a query to check when clients last showed network activity.
If it finds a client that has not shown activity recently, it will use <code class="systemitem">jabberd</code> to ping all <code class="systemitem">osad</code> instances running on all clients registered with your Uyuni server.
The <code class="systemitem">osad</code> instances respond to the ping using <code class="systemitem">jabberd</code>, which is running in the background on the server.
When the <code class="systemitem">osa-dispatcher</code> receives the response, it marks the client as online.
If the <code class="systemitem">osa-dispatcher</code> fails to receive a response within a certain period of time, it marks the client as offline.</p>
</div>
<div class="paragraph">
<p>When you schedule actions on an OSAD-enabled system, the task will be carried out  immediately.
The <code class="systemitem">osa-dispatcher</code> periodically checks clients for actions that need to be executed.
If an outstanding action is found, it uses <code class="systemitem">jabberd</code> to execute <code class="command">mgr_check</code> on the client, which will then execute the action.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/dia-osad.png" alt="dia osad">
</div>
<div class="title">Figure 1. osad Contact Method</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_enabling_and_configuring_osad"><a class="anchor" href="#_enabling_and_configuring_osad"></a><a class="link" href="#_enabling_and_configuring_osad">Enabling and Configuring OSAD</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers enabling the <code class="systemitem">osa-dispatcher</code> and <code class="systemitem">osad</code> services, and performing initial setup.</p>
</div>
<div class="paragraph">
<p>OSAD clients use the fully qualified domain name (FQDN) of the server to communicate with the <code class="systemitem">osa-dispatcher</code> service.</p>
</div>
<div class="paragraph">
<p>SSL is required for <code class="systemitem">osad</code> communication.
If SSL certificates are not available, the daemon on your client systems will fail to connect.
Make sure your firewall rules are set to allow the required ports.
For more information, see <a href="#tab.install.ports.server">[tab.install.ports.server]</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure: Enabling OSAD</div>
<ol class="arabic">
<li>
<p>On your Uyuni server, as the root user, start the <code class="systemitem">osa-dispatcher</code> service:</p>
<div class="listingblock">
<div class="content">
<pre>systemctl start osa-dispatcher</pre>
</div>
</div>
</li>
<li>
<p>On each client machine, install the <code class="systemitem">osad</code> package from the <code class="systemitem">Tools</code> child channel.
The <code class="systemitem">osad</code> package should be installed on clients only.
If you install the <code class="systemitem">osad</code> package on your Uyuni Server, it will conflict with the <code class="systemitem">osa-dispatcher</code> package.</p>
</li>
<li>
<p>On the client systems, as the root user, start the <code class="systemitem">osad</code> service:</p>
<div class="listingblock">
<div class="content">
<pre>systemctl start osad</pre>
</div>
</div>
<div class="paragraph">
<p>Because <code class="systemitem">osad</code> and <code class="systemitem">osa-dispatcher</code> are run as services, you can use standard commands to manage them, including <code class="command">stop</code>, <code class="command">restart</code>, and <code class="command">status</code>.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Configuration and Log Files</div>
<p>Each OSAD component is configured by local configuration files.
We recommend you keep the default configuration parameters for all OSAD components.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component</th>
<th class="tableblock halign-left valign-top">Location</th>
<th class="tableblock halign-left valign-top">Path to Configuration File</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="systemitem">osa-dispatcher</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="path">/etc/rhn/rhn.conf</code> Section: <code class="systemitem">OSA configuration</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="systemitem">osad</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="path">/etc/sysconfig/rhn/osad.conf</code> <code class="path">/etc/syseconfig/rhn/up2date</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="systemitem">osad</code>  log file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="path">/var/log/osad</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="systemitem">jabberd</code> log file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="path">/var/log/messages</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Troubleshooting OSAD</div>
<p>If your OSAD clients cannot connect to the server, or if the <code class="systemitem">jabberd</code> service takes a lot of time responding to port 5552, it could be because you have exceeded the open file count.</p>
</div>
<div class="paragraph">
<p>Every client needs one always-open TCP connection to the server, which consumes a single file handler.
If the number of file handlers currently open exceeds the maximum number of files that <code class="systemitem">jabberd</code> is allowed to use, <code class="systemitem">jabberd</code> will queue the requests, and refuse connections.</p>
</div>
<div class="paragraph">
<p>To resolve this issue, you can increase the file limits for <code class="systemitem">jabberd</code> by editing the <code class="path">/etc/security/limits.conf</code> configuration file and adding these lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>jabbersoftnofile5100
jabberhardnofile6000</pre>
</div>
</div>
<div class="paragraph">
<p>Calculate the limits required for your environment by adding 100 to the number of clients for the soft limit, and 1000 to the current number of clients for the soft limit.
In the example above, we have assumed 500 current clients, so the soft limit is 5100, and the hard limit is 6000.</p>
</div>
<div class="paragraph">
<p>You will also need to update the <code class="systemitem">max_fds</code> parameter in the <code class="path">/etc/jabberd/c2s.xml</code> file with your chosen hard limit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;max_fds&gt;6000&lt;/max_fds&gt;</pre>
</div>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>Copyright (C) 2017-2018 <a href="https://gitlab.com/jcayouette/uyuni-prototype">Uyuni Project</a></p>
  <p>Testing Disclaimer...</p>
</footer>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
<script>
function focusSearchInput () { document.querySelector('#search-input').focus() }
var search = docsearch({
  appId: '3F9C504TVA',
  apiKey: '72c8bc420354328a066360837f11319e',
  indexName: 'uyuni-project',
  inputSelector: '#search-input',
  autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
  algoliaOptions: { hitsPerPage: 10 }
}).autocomplete
search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
focusSearchInput()
window.addEventListener('load', focusSearchInput)
</script>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
